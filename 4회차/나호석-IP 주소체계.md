# IP 주소

IP 주소에 대해 정리해보기

## IP 주소란

IP는 Internet Protocol이고 말 그대로 네트워크에서 사용하는 통신규약입니다.
네트워크에서 장치들이 서로 통신하기 위해서는 이런 규약이 필요합니다. 그리고 또한 서로 식별할 수 있는 고유한 값이 필요합니다.
그래서 IP 주소가 생기게 됐습니다.

## IPv4
IP 주소는 논리적인 주소이며 주로 사용되고 있는 IP버전은 IPv4 주소 입니다.

길이는 32bit(4byte)이고 '.(dot)'으로 구분된 Octet(8bit / 1byte) 4개가 조합되어 IP주소를 나타냅니다.

`10101100.10101000.00001010.00000001` = `172.168.10.1`

약 42억개의 주소를 표현할 수 있으나 현재는 주소가 부족한 상태입니다. 그래서 길이를 늘린 IP 버전 6(IPv6) 주소도 나왔습니다. (128bit)

## 네트워크 클래스

네트워크 주소는 호스트가 속한 네트워크 주소인 Netwrok ID와 호스트의 주소인 Host ID로 구성됩니다.

랜 도입 이전에는 적은 수의 대규모 네트워크만 있었습니다. 이 때는 단순히 8비트의 네트워크 영역과 나머지 24비트를 호스트 영역으로 지정해서 IP 주소를 관리했습니다. 같은 네트워크의 있는 장비들은 8비트의 네트워크ID를 공유하고 각각의 장치(호스트)는 나머지 24bit로 고유한 ID 값을 가질 수 있었습니다. 이렇게 관리를 하면 우선 네트워크ID 기준으로 분류해서 네트워크를 찾아가고 그 안에서 특정 호스트를 찾을 수 있었습니다. 따라서 같은 네트워크 안에 있는 컴퓨터, 즉 라우터 없이도 데이터 전송이 가능한 컴퓨터는 네트워크 부가 동일하고 호스트 부만 다릅니다. 하지만 인터넷이 발전하면서 많은 수의 네트워크가 생기게 됐고 8비트 만으로는 네트워크를 관리할 수가 없게 됩니다. 그래서 결국 클래스라는걸 도입하게 됐습니다.

|클래스명|네트워크부(시작비트)|주소 범위|전체 호스트 갯수|
|-|-|-|-|
|클래스A|1바이트(0)|0.0.0.0 ~ 127.255.255.255|16,777,214 (2^-24 - 2)|
|클래스B|2바이트(10)|128.0.0.0 ~ 191.255.255.255|65,534 (2^16 - 2)|
|클래스C|3바이트(110)|192.0.0.0 ~ 223.255.255.255|254(2^8 - 2)|

(클래스D는 멀티캐스팅용, 클래스E는 연구/개발용으로 지정되어 있어서 일반적인 용도로 사용하지 않습니다.)

- 호스트 갯수를 보시면 클래스별로 규모가 다른데 대규모 네트워크는 클래스A, 중규모 네트워크는 클래스B, 소규모 네트워크는 클래스C를 사용합니다.
- 호스트 갯수에서 2씩 빼는 호스트 주소(호스트 주소가 모두 0 => 0)와 브로드캐스팅(호스트 주소가 모두 1 => 255)이 지정되어 있기 때문입니다.

하지만 이렇게 구분을 해서 사용을해도 단점이 있습니다. 클래스 별로 격차가 크기 떄문에 낭비되는 IP가 생길 수 밖에 없었습니다. 그래서 기존 클래스에서 조금 더 세분화 시켜줄 수 있는 서브넷 마스크를 활용해서 해결을 했습니다.

## 서브넷 마스크

IP 주소를 효율적으로 활용하기 위해서 클래스 A와 B 같은 대규모 네트워크를 좀 더 작은 네트워크로 분할하는 것을 서브넷팅(Subnetting)이라 하고, 분할된 네트워크를 서브넷(Subnet)이라고 합니다.

![서브넷 예시](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbLDjgW%2FbtqNU2Cuug8%2F02uFH1sdsBsygX5K8oWUT0%2Fimg.png)

약 1,667만 대의 컴퓨터를 연결할 수 있던 하나의 네트워크를 256개의 서브넷으로 분할하여 하나의 서브넷에 약 6만 5천 대의 컴퓨터를 연결할 수 있게 만든 것입니다.

서브넷팅이라는 논리적인 방법으로 분할된 네트워크는 라우터에 의해 물리적으로 구별됩니다.
서브넷팅 전에는 라우터 없이 약 1,667만 대의 컴퓨터 간에 통신이 가능했지만, 서브넷팅 후에는 서브넷이 서로 통신을 하기 위해선 라우터가 필요합니다.

![서브넷 예시2](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FF4v9U%2FbtqNQ3B9RZe%2FwrekukTJGap7CaLED5Q8qK%2Fimg.png)

IP 주소를 서브넷팅하는 경우 IP 주소와 별도로 어디까지가 네트워크 부이고 어디까지가 호스트 부인지 구별할 수 있는 식별자가 필요한데, 이 식별자를 **서브넷 마스크**라고 합니다.

![서브넷 마스크 표기법](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fbh762H%2FbtqNRI5EK9R%2FKCrxAYpRDFkLphQmZtCRHK%2Fimg.png)

서브넷 마스크를 사용하면 8비트 단위가 아닌 1비트 단위로 네트워크 부를 구성할 수 있기 때문에 더 세분화된 네트워크를 만들 수 있습니다. 그래서 현재는 클래스와 상관없이 한 네트워크에 연결하고 싶은 호스트들의 규모에 맞게 네트워크 부와 호스트 부의 길이를 비트 단위로 유연하게 변경할 수 있는 서브넷 마스크를 사용하여 IP 주소를 할당한다고 합니다.

(서브넷 마스크는 반드시 연속한 '1'과 연속한'0'으로 구성됩니다. '1'과 '0'이 교대로 나타나는 서브넷 마스크는 없습니다.)

## 출처
- [위키백과 인터넷 프로토콜](https://ko.wikipedia.org/wiki/%EC%9D%B8%ED%84%B0%EB%84%B7_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C)
- [위키백과 IP 주소](https://ko.wikipedia.org/wiki/IP_%EC%A3%BC%EC%86%8C)
- [정보통신기술용어해설](http://www.ktword.co.kr/test/view/view.php?m_temp1=194)
- [위키백과 네트워크 클래스](https://ko.wikipedia.org/wiki/%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%ED%81%B4%EB%9E%98%EC%8A%A4)
- [쉽게 이해하는 네트워크 13. IP 주소 의미와 체계 및 서브넷 마스크](https://better-together.tistory.com/118)
